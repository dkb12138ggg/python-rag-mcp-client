# MCP生产级客户端项目说明

## 项目概述

这是一个生产级的MCP（Model Context Protocol）多服务器客户端，基于Python构建，具备完整的RAG（检索增强生成）功能。项目提供了高性能的API服务，支持多种AI模型和工具调用，并包含完整的监控和部署方案。

## 主要功能

### 1. MCP多服务器管理
- **连接池管理**：智能管理多个MCP服务器连接
- **负载均衡**：自动分配请求到可用服务器
- **故障恢复**：自动重连和故障转移
- **健康检查**：定期检查服务器状态

### 2. RAG知识库系统
- **文档上传**：支持txt、pdf、docx、md等格式
- **智能分块**：自动将文档分割为合适的块
- **向量搜索**：使用PostgreSQL + pgvector进行相似性搜索
- **语义检索**：基于嵌入向量的语义匹配

### 3. API服务
- **RESTful API**：提供标准的HTTP接口
- **限流保护**：防止API滥用
- **异步处理**：高性能的异步请求处理
- **CORS支持**：跨域资源共享

### 4. 监控和日志
- **Prometheus指标**：完整的性能监控
- **Grafana仪表板**：可视化监控界面
- **结构化日志**：JSON格式的日志记录
- **健康检查**：服务状态监控

## 技术架构

### 核心组件
- **FastAPI**：现代的Python Web框架
- **PostgreSQL**：主数据库，支持向量扩展
- **Redis**：缓存和会话存储
- **Docker**：容器化部署
- **Prometheus + Grafana**：监控方案

### 目录结构
```
python-mcp-server-client/
├── src/                    # 源代码
│   ├── api/               # API接口
│   ├── config/            # 配置管理
│   ├── core/              # 核心功能
│   ├── models/            # 数据模型
│   ├── services/          # 业务服务
│   └── utils/             # 工具函数
├── docs/                  # 文档
├── deployments/           # 部署配置
├── monitoring/            # 监控配置
├── scripts/               # 脚本文件
├── tests/                 # 测试文件
├── docker-compose.yml     # Docker编排
├── Dockerfile            # Docker镜像
├── mcp.json              # MCP服务器配置
└── .env.example          # 环境变量模板
```

## 支持的AI模型

### OpenAI兼容接口
- **OpenAI官方API**：gpt-4, gpt-3.5-turbo等
- **其他兼容服务**：任何支持OpenAI API格式的服务

### 嵌入模型
- **text-embedding-ada-002**：OpenAI嵌入模型
- **自定义模型**：支持其他嵌入服务

## 主要特性

### 1. 高可用性
- 连接池管理，支持并发请求
- 自动故障恢复和重连机制
- 服务健康检查和监控

### 2. 高性能
- 异步处理架构
- Redis缓存加速
- 数据库连接池优化

### 3. 安全性
- API限流保护
- 环境变量配置
- 非root用户运行

### 4. 可扩展性
- 模块化设计
- 插件式架构
- 配置驱动开发

### 5. 生产就绪
- 完整的监控方案
- 日志记录和追踪
- Docker容器化部署
- 健康检查机制

## 适用场景

1. **智能客服系统**：结合RAG提供准确回答
2. **文档问答系统**：基于企业知识库的问答
3. **AI助手平台**：多功能AI助手后端
4. **知识管理系统**：企业知识库管理
5. **API网关**：AI服务的统一入口

## 系统要求

### 最低配置
- **CPU**：2核心
- **内存**：4GB RAM
- **存储**：20GB可用空间
- **Python**：3.11+

### 推荐配置
- **CPU**：4核心或以上
- **内存**：8GB RAM或以上
- **存储**：50GB可用空间
- **网络**：稳定的互联网连接

## 依赖服务

1. **PostgreSQL**：主数据库，需要pgvector扩展
2. **Redis**：缓存服务
3. **AI服务**：OpenAI API或兼容服务
4. **监控服务**：Prometheus和Grafana（可选）

## 下一步

请继续阅读以下文档：
- [部署指南](部署指南.md) - 详细的部署步骤
- [API调用示例](API调用示例.md) - 如何使用API
- [AI模型配置](AI模型配置.md) - 如何配置不同的AI服务

---

*最后更新：2024年12月*